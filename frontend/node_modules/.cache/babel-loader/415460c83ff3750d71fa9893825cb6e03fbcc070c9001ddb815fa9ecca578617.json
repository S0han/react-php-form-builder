{"ast":null,"code":"import axios from 'axios';\nexport const saveForm = (formName, formFields) => async dispatch => {\n  try {\n    const response = await axios.post('http://127.0.0.1:8000/api/forms/save', {\n      form_name: formName,\n      form_data: JSON.stringify(formFields)\n    });\n    console.log('Form saved successfully:', response.data);\n    alert('Form saved successfully!');\n  } catch (error) {\n    console.error('Error saving form:', error);\n    alert('Failed to save form.');\n  }\n};\nexport const fetchForm = formId => async dispatch => {\n  try {\n    const response = await axios.get(`http://127.0.0.1:8000/api/forms/${formId}`);\n    dispatch({\n      type: 'SET_FORM_FIELDS',\n      payload: JSON.parse(response.data.form_data)\n    });\n    dispatch({\n      type: 'SET_FORM_NAME',\n      payload: response.data.form_name\n    });\n  } catch (error) {\n    console.error('Error fetching form:', error);\n    alert('Failed to fetch form.');\n  }\n};\nexport const updateForm = (formId, formName, formFields) => async dispatch => {\n  try {\n    const response = await axios.put(`http://127.0.0.1:8000/api/forms/update/${formId}`, {\n      form_name: formName,\n      form_data: JSON.stringify(formFields)\n    });\n    console.log('Form updated successfully:', response.data);\n    alert('Form updated successfully!');\n  } catch (error) {\n    console.error('Error updating form:', error);\n    alert('Failed to update form.');\n  }\n};\nexport const addField = field => {\n  return {\n    type: \"ADD_FIELD\",\n    payload: field\n  };\n};\nexport const reorderFields = fields => {\n  return {\n    type: \"REORDER_FIELDS\",\n    payload: fields\n  };\n};\nexport const updateLabel = (id, newLabel) => {\n  return {\n    type: \"UPDATE_LABEL\",\n    payload: {\n      id,\n      newLabel\n    }\n  };\n};\nexport const updatePlaceholder = (id, newPlaceholder) => {\n  return {\n    type: \"UPDATE_PLACEHOLDER\",\n    payload: {\n      id,\n      newPlaceholder\n    }\n  };\n};\nexport const updateOptions = (fieldId, optionIndex, value) => {\n  return {\n    type: \"UPDATE_OPTIONS\",\n    payload: {\n      fieldId,\n      optionIndex,\n      value\n    }\n  };\n};","map":{"version":3,"names":["axios","saveForm","formName","formFields","dispatch","response","post","form_name","form_data","JSON","stringify","console","log","data","alert","error","fetchForm","formId","get","type","payload","parse","updateForm","put","addField","field","reorderFields","fields","updateLabel","id","newLabel","updatePlaceholder","newPlaceholder","updateOptions","fieldId","optionIndex","value"],"sources":["/Users/kanepereira/Training/react-php-form-builder/frontend/src/redux/actions/formFieldActions.jsx"],"sourcesContent":["import axios from 'axios';\n\nexport const saveForm = (formName, formFields) => async (dispatch) => {\n  try {\n    const response = await axios.post('http://127.0.0.1:8000/api/forms/save', {\n      form_name: formName,\n      form_data: JSON.stringify(formFields),\n    });\n\n    console.log('Form saved successfully:', response.data);\n    alert('Form saved successfully!');\n  } catch (error) {\n    console.error('Error saving form:', error);\n    alert('Failed to save form.');\n  }\n};\n\nexport const fetchForm = (formId) => async (dispatch) => {\n  try {\n    const response = await axios.get(`http://127.0.0.1:8000/api/forms/${formId}`);\n    dispatch({ type: 'SET_FORM_FIELDS', payload: JSON.parse(response.data.form_data) });\n    dispatch({ type: 'SET_FORM_NAME', payload: response.data.form_name });\n  } catch (error) {\n    console.error('Error fetching form:', error);\n    alert('Failed to fetch form.');\n  }\n};\n\nexport const updateForm = (formId, formName, formFields) => async (dispatch) => {\n  try {\n    const response = await axios.put(`http://127.0.0.1:8000/api/forms/update/${formId}`, {\n      form_name: formName,\n      form_data: JSON.stringify(formFields),\n    });\n\n    console.log('Form updated successfully:', response.data);\n    alert('Form updated successfully!');\n  } catch (error) {\n    console.error('Error updating form:', error);\n    alert('Failed to update form.');\n  }\n};\n\nexport const addField = (field) => {\n  return {\n    type: \"ADD_FIELD\",\n    payload: field,\n  };\n};\n\nexport const reorderFields = (fields) => {\n  return {\n    type: \"REORDER_FIELDS\",\n    payload: fields,\n  };\n};\n\nexport const updateLabel = (id, newLabel) => {\n  return {\n    type: \"UPDATE_LABEL\",\n    payload: { id, newLabel },\n  };\n};\n\nexport const updatePlaceholder = (id, newPlaceholder) => {\n  return {\n    type: \"UPDATE_PLACEHOLDER\",\n    payload: { id, newPlaceholder },\n  };\n};\n\nexport const updateOptions = (fieldId, optionIndex, value) => {\n  return {\n    type: \"UPDATE_OPTIONS\",\n    payload: {\n      fieldId,\n      optionIndex,\n      value,\n    },\n  };\n};"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}